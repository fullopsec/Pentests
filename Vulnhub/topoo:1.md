## Vulnhub - topoo :1

### Network Discovery

Using `netdiscover`, we identified a device with the IP address `192.168.1.35`

### Service Enumeration

`nmap -sV --script /usr/share/nmap/scripts/vulners.nse 192.168.1.35 -p-`

By running an `nmap` scan with the `vulners` script, we found several open ports and services:

- Port 22: SSH service running OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0).
- Port 80: HTTP service running Apache httpd 2.4.10 on Debian.
- Port 111: RPC service (rpcbind 2-4) with multiple program versions and associated ports.

### Web Application Analysis

Upon exploring the web application hosted at `http://192.168.1.35`, we discovered a Bootstrap blog. Further investigation using `dirb` revealed the following endpoints:

- `http://192.168.1.35/admin/notes.txt`: Sensitive information indicating the need for a password change (`12345ted123`).
- `http://192.168.1.35/vendor/`: Additional web application components.
- `http://192.168.1.35/mail/`: PHP-related files, suggesting possible vulnerabilities.

### User Enumeration

Using the information obtained, we determined that the SSH username is `ted` with the corresponding password `12345ted123`.

We connect via SSH successfully with ted.

### Privilege Escalation

A search for files with the setuid bit (`find / -perm -u=s -type f 2>/dev/null`) revealed Python :

![image](https://github.com/fullopsec/Pentests/assets/114147068/c9d9d75b-dae2-4c61-bde0-10000f4a14c1)


We attempted to escalate privileges using methods outlined in [GTFOBins](https://gtfobins.github.io/)

![image](https://github.com/fullopsec/Pentests/assets/114147068/4159a88c-06c2-4289-9c34-fb0044b020d1)


Using the following Python command, we gained access as the root user:

```sh
python -c 'import os; os.system("/bin/sh")'
```

Additionally, the command below would have yielded similar results:

```sh
python -c 'import pty; pty.spawn("/bin/bash")'
```

![image](https://github.com/fullopsec/Pentests/assets/114147068/1b962282-3aa1-4ce8-8de3-eb36fbd6942a)


## Conclusion

The penetration test of the Vulnhub machine "topoo:1" revealed vulnerabilities, including exposed sensitive information and a privilege escalation via a Python SUID bit. 
